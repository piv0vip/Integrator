<div>
    <b-modal ref="edit-task-modal"
             id="edit-task-modal"
             size="lg"
             header-bg-variant="light"
             footer-bg-variant="light"
             no-close-on-esc
             no-close-on-backdrop
             width="600px"
             hide-header-close
             title="Data Task Configuration"
             v-model="showModal"
             @hidden="onModalHidden"
             @show="onShowModal">

        <b-form >
            
            <b-container class="bv-example-row" >
                
                <b-row class="py-1">
                    <b-col cols="2" class="pt-2" style="text-align: right">Task Handler:</b-col>
                    <b-col cols="10">
                        <b-form-select :disabled="!isNew" v-model="selectedHandler" :options="handlerSettingsSelectList" required></b-form-select>
                    </b-col>
                </b-row>
 
                <b-row class="py-1">
                    <b-col cols="2" class="pt-2" style="text-align: right">Task Name:</b-col>
                    <b-col cols="10">
                        <b-form-input v-model="webTask.DisplayName" id="task-name-input" type="text" placeholder="Enter Task Name" required></b-form-input>
                    </b-col>
                </b-row>
 
                <b-row class="py-1">
                    <b-col cols="2" class="pt-2" style="text-align: right">Group Name:</b-col>
                    <b-col cols="10">
                        <b-form-input v-model="webTask.GroupName" id="task-name-input" type="text" placeholder="Enter Group Name"></b-form-input>
                    </b-col>
                </b-row>
        
                <b-row class="py-1 my-2">
                    <b-col cols="2"></b-col>
                    <b-col>
                        <v-switch label="Is Enabled" v-model="webTask.Enabled" color="info" hide-details></v-switch>
                    </b-col>
                    <b-col>
                        <v-switch label="Is Maintenance" v-model="webTask.IsMaintenance" color="info" hide-details></v-switch>
                    </b-col>
                </b-row>

                <b-row class="py-1">
                        <b-col cols="2" class="pt-2" style="text-align: right">Scheduling:</b-col>
                        <b-col cols="3"> 
                            <span class="cron" style="font-size: 20px;
                            font-weight: 500;
                            line-height: 1;
                            letter-spacing: 0.06em;
                            margin-bottom: 16px;">[ {{webTask.CronString}} ]</span>
                            <v-btn flat icon color="indigo">
                                <v-icon>settings</v-icon>
                            </v-btn> 
                        </b-col>
                        <b-col cols="3" class="pt-1" style="text-align: right">Max Retries:</b-col>
                        <b-col cols="3">
                                <b-form-input class="text-center" type="number" style="width:95px"></b-form-input>
                        </b-col>
                </b-row>
            
                <!-- h6 class="mt-3">Cron Style Scheduling ({{webTask.CronString}})</h6-->
                <!-- cron-style-scheduling :dataTask="webTask" ></cron-style-scheduling-->
                <!-- div class="divider my-2"></div-->
                <h6 class="pt-4">Task Parameters</h6>
                <b-row>
                    <b-col>
                        <custom-params :customSettings="handlerSettings"
                                       :height="height"
                                       @onValueAdded="onAddedCustomParam"></custom-params>

                    </b-col>
                </b-row>

            </b-container>
        </b-form>

        <template slot="modal-footer">

            <v-btn round v-b-tooltip.hover.topright title="Save Data Task Configuration" color="primary" dark @click.native.stop="showSaveConfirmation = true">
                <v-icon class="mr-2">save</v-icon>Save
            </v-btn>
            <confirmation-dialog :dialogVisible="showSaveConfirmation" 
                dialogMessage="Do you want to SAVE Changes and Close?"
                @onOkClicked="onSaveOkClicked" 
                @onCloseDialog="showSaveConfirmation = false"> </confirmation-dialog>

            <v-btn round v-b-tooltip.hover.topright title="Discard Data Task Configuration" color="red" dark @click.native.stop="showDiscardConfirmation = true">
                <v-icon class="mr-2">close</v-icon>Discard
            </v-btn>
            <confirmation-dialog :dialogVisible="showDiscardConfirmation" 
                dialogMessage="Do you want to DISCARD Changes and Close?"
                @onOkClicked="onDiscardOkClicked" 
                @onCloseDialog="showDiscardConfirmation = false"> </confirmation-dialog>

        </template>

    </b-modal>

</div>