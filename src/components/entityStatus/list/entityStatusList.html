<div>
    <v-container>
        <v-layout row wrap>
            <v-flex xs1 class="mr-4">
                <v-select v-bind:items="pageOptions"
                          v-model="perPage"
                          label="Rows per page"></v-select>
            </v-flex>
            <v-flex xs2 class="mx-4">
                <v-text-field v-model="keyword.Value"
                              label="Search"
                              @keyup.native.enter="onFilterChange"></v-text-field>
            </v-flex>
            <v-flex xs8>
                <v-btn @click="onApplyFilter">Apply filter</v-btn>
                <v-btn @click="onResetFilter">Reset filter</v-btn>
            </v-flex>
        </v-layout>
    </v-container>
    <b-table id="entity-statuses"
             ref="entityStatusesTable"
             hover
             :busy.sync="isBusy"
             :sort-by.sync="sortBy"
             :sort-desc.sync="sortDesc"
             :current-page="currentPage"
             :per-page="perPage"
             :fields="fields"
             :items="myProvider">
        <template slot="Reset" scope="data">
            <v-btn icon flat
                   color="red lighten-2 white--text"
                   title="Reset entity status"
                   @click='onResetEntityStatus(data.item)'><i class="material-icons">compare_arrows</i></v-btn>
        </template>
        <template slot="InContent" scope="data">
            <span v-if="data.item.getInContent().getContent()">
                <v-btn flat round
                       color="indigo lighten-2 white--text"
                       title="In Content"
                       value="assignment"
                       @click='onViewContentClick(data.item.getInContent())'><v-icon class="mr-1">assignment</v-icon>{{ data.item.getInContent().getType() }}</v-btn>
            </span>
        </template>
        <template slot="OutContent" scope="data">
            <span v-if="data.item.getOutContent().getContent()">
                <v-btn flat round
                       color="indigo lighten-2 white--text"
                       title="In Content"
                       @click='onViewContentClick(data.item.getOutContent())'><v-icon class="mr-1">assignment</v-icon>{{ data.item.getOutContent().getType() }}</v-btn>
            </span>
        </template>
        <template slot="HEAD_OutContent" scope="data">
            <span>
                <v-icon large @click.stop="">network_cell</v-icon>
            </span>
        </template>
        <template slot="HEAD_Status" scope="data">
            {{ data.label }}
            <v-menu offset-x
                    :close-on-content-click="false"
                    :nudge-width="400"
                    v-model="menu">
                <v-icon @click.stop="onCClick(data)" large color="indigo" dark slot="activator">signal_cellular_null</v-icon>
                <v-card>
                    <v-divider></v-divider>
                    <v-card-actions>
                        <v-spacer></v-spacer>
                        <v-btn flat @click="menu = false">Cancel</v-btn>
                        <v-btn color="primary" flat @click="menu = false">Save</v-btn>
                    </v-card-actions>
                </v-card>
            </v-menu>

        </template>
        <template slot="HEAD_InContent" scope="data">
            {{ data.label }}
            <v-menu offset-x
                    :close-on-content-click="false"
                    :nudge-width="400"
                    v-model="menu">
                <v-icon @click.stop="onCClick(data)" large color="indigo" dark slot="activator">signal_cellular_null</v-icon>
                <v-card>
                    <!--<v-list>
                        <v-list-tile avatar>
                            <v-list-tile-avatar>
                                <img src="/static/doc-images/john.jpg" alt="John">
                            </v-list-tile-avatar>
                            <v-list-tile-content>
                                <v-list-tile-title>John Leider</v-list-tile-title>
                                <v-list-tile-sub-title>Founder of Vuetify.js</v-list-tile-sub-title>
                            </v-list-tile-content>
                            <v-list-tile-action>
                                <v-btn icon
                                       :class="fav ? 'red--text' : ''"
                                       @click="fav = !fav">
                                    <v-icon>favorite</v-icon>
                                </v-btn>
                            </v-list-tile-action>
                        </v-list-tile>
                    </v-list>-->
                    <v-divider></v-divider>
                    <!--<v-list>
                        <v-list-tile>
                            <v-list-tile-action>
                                <v-switch v-model="message" color="purple"></v-switch>
                            </v-list-tile-action>
                            <v-list-tile-title>Enable messages</v-list-tile-title>
                        </v-list-tile>
                        <v-list-tile>
                            <v-list-tile-action>
                                <v-switch v-model="hints" color="purple"></v-switch>
                            </v-list-tile-action>
                            <v-list-tile-title>Enable hints</v-list-tile-title>
                        </v-list-tile>
                    </v-list>-->
                    <v-card-actions>
                        <v-spacer></v-spacer>
                        <v-btn flat @click="menu = false">Cancel</v-btn>
                        <v-btn color="primary" flat @click="menu = false">Save</v-btn>
                    </v-card-actions>
                </v-card>
            </v-menu>
        </template>
    </b-table>

    <v-container fluid>
        <v-layout row wrap>
            <!--<v-flex xs2>
                    <b-form-fieldset horizontal label="Total rows:" :label-cols="4">
                        <span class="py-1" style="display:block; font-weight:bold">{{ pagedList.totalItemCount }}</span>
                    </b-form-fieldset>
            </v-flex>-->
            <v-flex xs12>
                <v-pagination :length="pagesCount" v-model="currentPage" ></v-pagination>
            </v-flex>
        </v-layout>
    </v-container>

    <content-view :show="showContent" :content="content"></content-view>


    <v-container fluid>

        <v-layout row wrap>

            <v-flex xs7>
                <multiselect v-model="statusMessageFilter.CheckedValues"
                             :options="statusMessageFilter.Values"
                             :close-on-select="false"
                             :multiple="true">
                </multiselect>
                <!--<checkbox-filter v-model="statusMessageFilter.CheckedValues" :cbFilter="statusMessageFilter"></checkbox-filter>-->
            </v-flex>

            <v-flex xs5>
                <multiselect v-model="versionFilter.CheckedValues"
                             :options="versionFilter.Values"
                             :close-on-select="false"
                             :multiple="true">
                </multiselect>
                <!--<checkbox-filter v-model="statusMessageFilter.CheckedValues" :cbFilter="statusMessageFilter"></checkbox-filter>-->
            </v-flex>

        </v-layout>

        <v-layout row wrap>

            <v-flex xs2>
                <checkbox-filter v-model="entityStatusFilter.CheckedValues" :cbFilter="entityStatusFilter"></checkbox-filter>
            </v-flex>

            <v-flex xs2>
                <contain-filter v-model="keyword.Value" :cbFilter="keyword"></contain-filter>
            </v-flex>

            <v-flex xs2>
                <checkbox-filter v-model="entityTypeFilter.CheckedValues" :cbFilter="entityTypeFilter"></checkbox-filter>
            </v-flex>

            <v-flex xs2>
                <checkbox-filter v-model="sourceFilter.CheckedValues" :cbFilter="sourceFilter"></checkbox-filter>
            </v-flex>

            <v-flex xs2>
                <checkbox-filter v-model="targetFilter.CheckedValues" :cbFilter="targetFilter"></checkbox-filter>
            </v-flex>

            <!--<v-flex xs2>
                <contain-filter v-model="versionFilter.Value" :cbFilter="versionFilter"></contain-filter>
            </v-flex>-->

        </v-layout>

    </v-container>
</div>